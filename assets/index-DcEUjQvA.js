import{r as c,b as U,j as e,L as ke,c as Ce,R as Se}from"./react-vendor-Cae6Q1A7.js";import{R as ae,P as Le,a as Me,C as Ae,T as se,L as De,A as Ie,b as Be,X as Ee,Y as Te,c as ne}from"./recharts-BNwIru7N.js";import{G as Pe}from"./genai-DDZkw1qX.js";import"./vendor-5T-NkdKr.js";import"./lottie-BjC39Ca3.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))L(b);new MutationObserver(b=>{for(const v of b)if(v.type==="childList")for(const y of v.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&L(y)}).observe(document,{childList:!0,subtree:!0});function w(b){const v={};return b.integrity&&(v.integrity=b.integrity),b.referrerPolicy&&(v.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?v.credentials="include":b.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function L(b){if(b.ep)return;b.ep=!0;const v=w(b);fetch(b.href,v)}})();var B=(x=>(x.INCOME="INCOME",x.EXPENSE="EXPENSE",x))(B||{});const re=["Iuran Wajib","Donasi","Konsumsi","Perlengkapan","Transportasi","Acara","Lain-lain","Gaji","Bonus","Hiburan","Kebutuhan"],_e=({onAdd:x,onEdit:d,initialData:w,onClose:L,accounts:b})=>{const[v,y]=c.useState(""),[u,t]=c.useState(""),[N,f]=c.useState(B.INCOME),[k,M]=c.useState(re[2]),[S,A]=c.useState(new Date().toISOString().split("T")[0]),[C,D]=c.useState(b.length>0?b[0].id:"");c.useEffect(()=>{w&&(y(w.description),t(w.amount.toString()),f(w.type),M(w.category),A(w.date),D(w.bankAccountId))},[w]);const j=h=>{h.preventDefault(),!(!v||!u||!C)&&(w&&d?d({...w,date:S,description:v,amount:parseFloat(u),type:N,category:k,bankAccountId:C}):x({date:S,description:v,amount:parseFloat(u),type:N,category:k,bankAccountId:C}),L())};return U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:L,children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden animate-slide-up border border-white/50 relative",onClick:h=>h.stopPropagation(),children:[e.jsx("div",{className:"absolute top-2 left-0 right-0 flex justify-center sm:hidden z-20",children:e.jsx("div",{className:"w-12 h-1.5 bg-white/40 rounded-full"})}),e.jsxs("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 px-6 py-4 pt-8 sm:pt-4 flex justify-between items-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-30 pattern-dots"}),e.jsx("h2",{className:"text-white text-lg font-bold tracking-tight relative z-10",children:w?"Edit Transaksi":"Tambah Transaksi"}),e.jsx("button",{onClick:L,className:"text-white/70 hover:text-white hover:bg-white/20 rounded-full p-1.5 transition relative z-10",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl shadow-inner",children:[e.jsx("button",{type:"button",onClick:()=>f(B.INCOME),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all duration-300 ${N===B.INCOME?"bg-white text-emerald-600 shadow-md transform scale-100":"text-gray-500 hover:text-gray-700"}`,children:"Pemasukan"}),e.jsx("button",{type:"button",onClick:()=>f(B.EXPENSE),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all duration-300 ${N===B.EXPENSE?"bg-white text-rose-600 shadow-md transform scale-100":"text-gray-500 hover:text-gray-700"}`,children:"Pengeluaran"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Jumlah (Rp)"}),e.jsx("input",{type:"number",required:!0,value:u,onChange:h=>t(h.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-bold text-base",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Sumber Dana"}),e.jsxs("select",{required:!0,value:C,onChange:h=>D(h.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-medium appearance-none text-sm",children:[b.length===0&&e.jsx("option",{value:"",children:"Belum ada rekening"}),b.map(h=>e.jsxs("option",{value:h.id,children:[h.name," (Saldo: Rp",h.balance.toLocaleString("id-ID"),")"]},h.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Deskripsi"}),e.jsx("input",{type:"text",required:!0,value:v,onChange:h=>y(h.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-medium text-sm",placeholder:"Contoh: Iuran Bulan Mei"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Kategori"}),e.jsx("select",{value:k,onChange:h=>M(h.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-medium text-sm",children:re.map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Tanggal"}),e.jsx("input",{type:"date",required:!0,value:S,onChange:h=>A(h.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-medium text-sm"})]})]}),e.jsx("button",{type:"submit",disabled:b.length===0,className:"w-full py-3 px-4 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 disabled:from-gray-300 disabled:to-gray-400 text-white font-bold rounded-xl shadow-lg shadow-cyan-500/30 transform active:scale-95 transition-all mt-2 text-sm mb-4 sm:mb-0",children:b.length===0?"Buat Rekening Dulu":w?"Simpan Perubahan":"Simpan Transaksi"})]})]})}),document.body)},Oe=({savings:x,accounts:d,onAdd:w,onEdit:L,onAddMoney:b,onDelete:v})=>{const[y,u]=c.useState(!1),[t,N]=c.useState(null),[f,k]=c.useState(""),[M,S]=c.useState(""),[A,C]=c.useState(""),[D,j]=c.useState(d.length>0?d[0].id:""),[h,E]=c.useState(null),[g,P]=c.useState(""),[z,$]=c.useState(d.length>0?d[0].id:""),m=s=>{N(s),k(s.name),S(s.targetAmount.toString()),C(s.currentAmount.toString()),u(!0)},R=()=>{N(null),k(""),S(""),C(""),d.length>0&&j(d[0].id),u(!0)},F=s=>{if(s.preventDefault(),t)L({...t,name:f,targetAmount:parseFloat(M),currentAmount:parseFloat(A)});else{const a=parseFloat(A)||0;if(a>0&&!D){alert("Pilih rekening sumber dana untuk saldo awal tabungan.");return}w({name:f,targetAmount:parseFloat(M),currentAmount:a},D)}u(!1),N(null),k(""),S(""),C("")},V=s=>{s.preventDefault(),h&&g&&z&&(b(h,parseFloat(g),z),E(null),P(""))},l=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Target Tabungan"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Wujudkan impianmu satu per satu."})]}),e.jsx("button",{onClick:R,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-bold rounded-xl shadow-md shadow-emerald-500/30 hover:-translate-y-0.5 transition-all active:scale-95 text-sm",children:"+ Target Baru"})]}),x.length===0?e.jsx("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-[2rem] bg-gray-50/50",children:e.jsx("p",{className:"text-gray-400 text-base font-medium",children:"Belum ada target tabungan."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:x.map(s=>{const a=Math.min(100,Math.round(s.currentAmount/s.targetAmount*100));return e.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-[0_10px_30px_-10px_rgba(0,0,0,0.08)] border border-gray-100 hover:shadow-xl transition-shadow relative overflow-hidden group cursor-pointer",onClick:()=>m(s),children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-50 rounded-full -mr-8 -mt-8 blur-2xl group-hover:bg-emerald-100 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 text-lg group-hover:text-emerald-700 transition-colors",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:["Target: ",l(s.targetAmount)]})]}),e.jsx("button",{onClick:n=>{n.stopPropagation(),v(s.id)},className:"text-gray-300 hover:text-red-500 transition-colors p-1.5 hover:bg-red-50 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),e.jsxs("div",{className:"flex items-end justify-between mb-2",children:[e.jsx("span",{className:"text-2xl font-extrabold text-emerald-600 tracking-tight",children:l(s.currentAmount)}),e.jsxs("span",{className:"text-xs font-bold bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-md mb-0.5",children:[a,"%"]})]}),e.jsx("div",{className:"relative w-full h-3.5 bg-gray-200 rounded-full shadow-[inset_0_2px_4px_rgba(0,0,0,0.2)] overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-emerald-400 to-teal-600 rounded-full shadow-[0_2px_5px_rgba(0,0,0,0.2)] transition-all duration-1000 ease-out",style:{width:`${a}%`},children:e.jsx("div",{className:"w-full h-1/2 bg-white/30 rounded-t-full"})})}),e.jsxs("button",{onClick:n=>{n.stopPropagation(),E(s.id),d.length>0&&$(d[0].id)},className:"mt-4 w-full py-2.5 bg-gray-50 hover:bg-emerald-50 text-gray-700 hover:text-emerald-700 font-bold rounded-xl border border-gray-200 hover:border-emerald-200 transition-all shadow-sm active:scale-95 flex items-center justify-center text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Tambah Saldo"]})]})]},s.id)})}),y&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>u(!1),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up border border-white/50 relative",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-5 text-gray-800",children:t?"Edit Target":"Buat Target Baru"}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Nama Impian"}),e.jsx("input",{autoFocus:!0,placeholder:"Misal: Liburan ke Jepang",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-emerald-100 outline-none font-medium text-sm",value:f,onChange:s=>k(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Target Dana"}),e.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-emerald-100 outline-none font-medium text-sm",value:M,onChange:s=>S(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:t?"Saldo Saat Ini":"Sudah Terkumpul (Opsional)"}),e.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-emerald-100 outline-none font-medium text-sm",value:A,onChange:s=>C(s.target.value)})]}),!t&&parseFloat(A)>0&&e.jsxs("div",{className:"space-y-1 animate-fade-in-up",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Ambil Saldo Awal Dari"}),e.jsxs("select",{required:!0,value:D,onChange:s=>j(s.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-emerald-100 outline-none transition-all font-medium appearance-none text-sm",children:[d.length===0&&e.jsx("option",{value:"",children:"Belum ada rekening"}),d.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (Saldo: Rp",s.balance.toLocaleString("id-ID"),")"]},s.id))]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",disabled:!t&&parseFloat(A)>0&&d.length===0,className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 text-sm",children:t?"Simpan Perubahan":"Simpan"})]})]})]})}),document.body),h&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>E(null),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up relative border border-white/50",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-5 text-gray-800",children:"Nabung Yuk!"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Pilih rekening sumber dana untuk ditabung."}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Nominal"}),e.jsx("input",{autoFocus:!0,type:"number",placeholder:"Rp",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-emerald-100 outline-none font-bold text-base",value:g,onChange:s=>P(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Ambil dari Rekening"}),e.jsxs("select",{required:!0,value:z,onChange:s=>$(s.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-emerald-100 outline-none transition-all font-medium appearance-none text-sm",children:[d.length===0&&e.jsx("option",{value:"",children:"Belum ada rekening"}),d.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (Saldo: Rp",s.balance.toLocaleString("id-ID"),")"]},s.id))]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>E(null),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",disabled:d.length===0,className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/30 text-sm",children:"Tambah"})]})]})]})}),document.body)]})},Re=({plans:x,onAdd:d,onEdit:w,onToggle:L,onDelete:b})=>{const[v,y]=c.useState(!1),[u,t]=c.useState(null),[N,f]=c.useState(""),[k,M]=c.useState(""),[S,A]=c.useState("Medium"),C=g=>{t(g),f(g.name),M(g.estimatedCost.toString()),A(g.priority),y(!0)},D=()=>{t(null),f(""),M(""),A("Medium"),y(!0)},j=g=>{g.preventDefault(),u?w({...u,name:N,estimatedCost:parseFloat(k)||0,priority:S}):d({name:N,estimatedCost:parseFloat(k)||0,priority:S}),y(!1),t(null),f(""),M("")},h={High:"bg-red-100 text-red-700 border-red-200",Medium:"bg-orange-100 text-orange-700 border-orange-200",Low:"bg-blue-100 text-blue-700 border-blue-200"},E=g=>g===0?"Rp -":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(g);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Rencana Belanja"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Daftar keinginan dan kebutuhanmu."})]}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-bold rounded-xl shadow-lg shadow-yellow-500/30 hover:-translate-y-0.5 transition-all active:scale-95 text-sm",children:"+ Rencana"})]}),e.jsx("div",{className:"space-y-3",children:x.length===0?e.jsx("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-[2rem] bg-gray-50/50",children:e.jsx("p",{className:"text-gray-400 font-medium text-base",children:"Apa yang ingin kamu beli berikutnya?"})}):e.jsx("div",{className:"grid grid-cols-1 gap-3",children:x.map(g=>e.jsxs("div",{onClick:()=>C(g),className:`p-4 rounded-2xl border flex items-center justify-between transition-all duration-300 cursor-pointer ${g.isCompleted?"bg-gray-100 border-transparent opacity-60":"bg-white border-gray-100 shadow-[0_8px_20px_-5px_rgba(0,0,0,0.06)] hover:shadow-lg hover:-translate-y-0.5"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:P=>{P.stopPropagation(),L(g.id)},className:`w-7 h-7 rounded-lg flex items-center justify-center transition-all shadow-inner ${g.isCompleted?"bg-emerald-500 shadow-none":"bg-gray-100 hover:bg-emerald-200"}`,children:g.isCompleted&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-base text-gray-800 ${g.isCompleted?"line-through text-gray-500":""}`,children:g.name}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:E(g.estimatedCost)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-bold border uppercase tracking-wider ${h[g.priority]}`,children:g.priority}),e.jsx("button",{onClick:P=>{P.stopPropagation(),b(g.id)},className:"text-gray-300 hover:text-red-500 bg-gray-50 p-1.5 rounded-lg hover:bg-red-50 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},g.id))})}),v&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>y(!1),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up relative",onClick:g=>g.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-5 text-gray-800",children:u?"Edit Rencana":"Tambah Rencana"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Barang/Jasa"}),e.jsx("input",{autoFocus:!0,className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-yellow-100 outline-none font-medium text-sm",value:N,onChange:g=>f(g.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Estimasi Harga"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-yellow-100 outline-none font-medium text-sm",value:k,onChange:g=>M(g.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Prioritas"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-yellow-100 outline-none font-medium appearance-none text-sm",value:S,onChange:g=>A(g.target.value),children:[e.jsx("option",{value:"High",children:"Tinggi (Mendesak)"}),e.jsx("option",{value:"Medium",children:"Sedang (Butuh)"}),e.jsx("option",{value:"Low",children:"Rendah (Ingin)"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded-2xl shadow-lg shadow-yellow-500/30 text-sm",children:u?"Simpan Perubahan":"Simpan"})]})]})]})}),document.body)]})},ze=({bills:x,accounts:d,onAdd:w,onEdit:L,onPay:b,onDelete:v})=>{const[y,u]=c.useState(!1),[t,N]=c.useState(null),[f,k]=c.useState(""),[M,S]=c.useState(""),[A,C]=c.useState(""),[D,j]=c.useState("MONTHLY"),[h,E]=c.useState(null),[g,P]=c.useState(d.length>0?d[0].id:""),z=n=>{N(n),k(n.name),S(n.amount.toString()),C(n.dueDate),j(n.frequency),u(!0)},$=()=>{N(null),k(""),S(""),C(""),j("MONTHLY"),u(!0)},m=n=>{n.preventDefault(),t?L({...t,name:f,amount:parseFloat(M),dueDate:A,frequency:D}):w({name:f,amount:parseFloat(M),dueDate:A,frequency:D}),u(!1),R()},R=()=>{k(""),S(""),C(""),j("MONTHLY"),N(null)},F=n=>{n.preventDefault(),h&&g&&(b(h,g),E(null))},V=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),l=n=>new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),s=[...x].sort((n,W)=>n.isPaid===W.isPaid?new Date(n.dueDate).getTime()-new Date(W.dueDate).getTime():n.isPaid?1:-1),a=n=>{switch(n){case"ONCE":return"Sekali";case"WEEKLY":return"Mingguan";case"MONTHLY":return"Bulanan";case"YEARLY":return"Tahunan";default:return"Bulanan"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Tagihan Rutin"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Kewajiban bulananmu."})]}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white font-bold rounded-xl shadow-lg shadow-rose-500/30 hover:-translate-y-0.5 transition-all active:scale-95 text-sm",children:"+ Tagihan"})]}),e.jsx("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:s.length===0?e.jsx("div",{className:"col-span-full text-center py-12 border-2 border-dashed border-gray-300 rounded-[2rem] bg-gray-50/50",children:e.jsx("p",{className:"text-gray-400 font-medium text-base",children:"Bebas tagihan! Nikmati harimu."})}):s.map(n=>{const W=!n.isPaid&&new Date(n.dueDate)<new Date;return e.jsxs("div",{className:`group relative p-5 rounded-3xl border transition-all duration-300 overflow-hidden cursor-pointer ${n.isPaid?"bg-gray-100 border-gray-200 opacity-70 grayscale":"bg-white border-gray-100 shadow-[0_15px_30px_-10px_rgba(0,0,0,0.08)] hover:shadow-xl hover:-translate-y-0.5"}`,onClick:()=>z(n),children:[e.jsx("div",{className:`absolute top-0 left-0 h-full w-1.5 ${n.isPaid?"bg-gray-300":W?"bg-red-500":"bg-rose-500"}`}),e.jsxs("div",{className:"pl-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:`font-bold text-lg tracking-tight ${n.isPaid?"text-gray-500 line-through decoration-2":"text-gray-800"}`,children:n.name}),!n.isPaid&&n.frequency&&n.frequency!=="ONCE"&&e.jsx("span",{className:"bg-rose-100 text-rose-600 text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide",children:a(n.frequency)})]}),e.jsx("button",{onClick:q=>{q.stopPropagation(),v(n.id)},className:"text-gray-300 hover:text-red-500 bg-gray-50 p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:`text-2xl font-black ${n.isPaid?"text-gray-400":"text-gray-800"}`,children:V(n.amount)}),e.jsxs("div",{className:`mt-1.5 flex items-center text-xs font-bold ${W?"text-red-600 bg-red-50 inline-block px-2 py-0.5 rounded-md":"text-gray-500"}`,children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),W?"Jatuh Tempo!":"Due: "," ",l(n.dueDate)]})]}),e.jsx("button",{onClick:q=>{q.stopPropagation(),!n.isPaid&&(E(n.id),d.length>0&&P(d[0].id))},disabled:n.isPaid,className:`w-full py-2.5 rounded-xl text-xs font-bold transition-all shadow-sm active:scale-95 flex items-center justify-center ${n.isPaid?"bg-gray-200 text-gray-600 cursor-default shadow-none":"bg-rose-50 text-rose-600 hover:bg-rose-100 border border-rose-100"}`,children:n.isPaid?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"Lunas"]}):"Bayar Sekarang"})]})]},n.id)})}),h&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>E(null),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up border border-white/50 relative",onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Bayar Tagihan"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Pilih sumber dana untuk membayar tagihan ini. Saldo akan otomatis terpotong."}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Sumber Dana"}),e.jsxs("select",{required:!0,value:g,onChange:n=>P(n.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-rose-100 outline-none transition-all font-medium appearance-none text-sm",children:[d.length===0&&e.jsx("option",{value:"",children:"Belum ada rekening"}),d.map(n=>e.jsxs("option",{value:n.id,children:[n.name," (Saldo: Rp",n.balance.toLocaleString("id-ID"),")"]},n.id))]})]}),e.jsxs("div",{className:"flex gap-2 pt-2 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>E(null),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",disabled:d.length===0,className:"flex-1 py-3 bg-rose-600 hover:bg-rose-700 disabled:bg-gray-400 text-white font-bold rounded-2xl shadow-lg shadow-rose-500/30 text-sm",children:"Bayar"})]})]})]})}),document.body),y&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>u(!1),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up border border-white/50 relative",onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-5 text-gray-800",children:t?"Edit Tagihan":"Catat Tagihan"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Nama Tagihan"}),e.jsx("input",{autoFocus:!0,className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-rose-100 outline-none font-medium text-sm",placeholder:"Contoh: Listrik",value:f,onChange:n=>k(n.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Total (Rp)"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-rose-100 outline-none font-medium text-sm",value:M,onChange:n=>S(n.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Frekuensi"}),e.jsxs("select",{value:D,onChange:n=>j(n.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-rose-100 outline-none font-medium appearance-none text-sm",children:[e.jsx("option",{value:"ONCE",children:"Sekali"}),e.jsx("option",{value:"WEEKLY",children:"Mingguan"}),e.jsx("option",{value:"MONTHLY",children:"Bulanan"}),e.jsx("option",{value:"YEARLY",children:"Tahunan"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Jatuh Tempo"}),e.jsx("input",{type:"date",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-rose-100 outline-none font-medium text-gray-500 text-sm",value:A,onChange:n=>C(n.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 bg-rose-600 hover:bg-rose-700 text-white font-bold rounded-2xl shadow-lg shadow-rose-500/30 text-sm",children:t?"Simpan Perubahan":"Simpan"})]})]})]})}),document.body)]})},$e=({receivables:x,accounts:d,onAdd:w,onEdit:L,onPaidBack:b,onDelete:v})=>{const[y,u]=c.useState(!1),[t,N]=c.useState(null),[f,k]=c.useState(""),[M,S]=c.useState(""),[A,C]=c.useState(""),[D,j]=c.useState(""),[h,E]=c.useState(d.length>0?d[0].id:""),[g,P]=c.useState(null),z=a=>{N(a),k(a.name),S(a.amount.toString()),C(a.dueDate),j(a.description||""),u(!0)},$=()=>{N(null),F(),u(!0)},m=a=>{a.preventDefault(),t?(L({...t,name:f,amount:parseFloat(M),dueDate:A,description:D}),u(!1),F()):h&&(w({name:f,amount:parseFloat(M),dueDate:A,description:D},h),u(!1),F())},R=a=>{a.preventDefault(),g&&h&&(b(g,h),P(null))},F=()=>{k(""),S(""),C(""),j(""),N(null),d.length>0&&E(d[0].id)},V=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),l=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),s=[...x].sort((a,n)=>a.isPaid===n.isPaid?new Date(a.dueDate).getTime()-new Date(n.dueDate).getTime():a.isPaid?1:-1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Piutang"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Catat siapa saja yang meminjam uangmu."})]}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-gradient-to-r from-sky-500 to-cyan-600 text-white font-bold rounded-xl shadow-lg shadow-sky-500/30 hover:-translate-y-0.5 transition-all active:scale-95 text-sm",children:"+ Catat Pinjaman"})]}),e.jsx("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:s.length===0?e.jsx("div",{className:"col-span-full text-center py-12 border-2 border-dashed border-gray-300 rounded-[2rem] bg-gray-50/50",children:e.jsx("p",{className:"text-gray-400 font-medium text-base",children:"Tidak ada yang berhutang padamu. Bagus!"})}):s.map(a=>{const n=!a.isPaid&&new Date(a.dueDate)<new Date;return e.jsxs("div",{className:`group relative p-5 rounded-3xl border transition-all duration-300 overflow-hidden cursor-pointer ${a.isPaid?"bg-gray-100 border-gray-200 opacity-70 grayscale":"bg-white border-gray-100 shadow-[0_15px_30px_-10px_rgba(0,0,0,0.08)] hover:shadow-xl hover:-translate-y-0.5"}`,onClick:()=>z(a),children:[e.jsx("div",{className:`absolute top-0 left-0 h-full w-1.5 ${a.isPaid?"bg-gray-300":n?"bg-orange-500":"bg-sky-500"}`}),e.jsxs("div",{className:"pl-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-sky-100 flex items-center justify-center text-sky-600 font-bold text-[10px] border border-sky-200",children:a.name.charAt(0).toUpperCase()}),e.jsx("h4",{className:`font-bold text-lg tracking-tight ${a.isPaid?"text-gray-500 line-through decoration-2":"text-gray-800"}`,children:a.name})]}),e.jsx("button",{onClick:W=>{W.stopPropagation(),v(a.id)},className:"text-gray-300 hover:text-red-500 bg-gray-50 p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]}),a.description&&e.jsxs("p",{className:"text-[10px] text-gray-500 mb-3 line-clamp-1 italic",children:['"',a.description,'"']}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:`text-2xl font-black ${a.isPaid?"text-gray-400":"text-gray-800"}`,children:V(a.amount)}),e.jsxs("div",{className:`mt-1.5 flex items-center text-xs font-bold ${n?"text-orange-600 bg-orange-50 inline-block px-2 py-0.5 rounded-md":"text-gray-500"}`,children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n?"Lewat Jatuh Tempo!":"Jatuh Tempo: "," ",l(a.dueDate)]})]}),e.jsx("button",{onClick:W=>{W.stopPropagation(),!a.isPaid&&(P(a.id),d.length>0&&E(d[0].id))},disabled:a.isPaid,className:`w-full py-2.5 rounded-xl text-xs font-bold transition-all shadow-sm active:scale-95 flex items-center justify-center ${a.isPaid?"bg-gray-200 text-gray-600 cursor-default shadow-none":"bg-sky-50 text-sky-600 hover:bg-sky-100 border border-sky-100"}`,children:a.isPaid?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"Lunas"]}):"Tandai Lunas"})]})]},a.id)})}),g&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>P(null),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up border border-white/50 relative",onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Pinjaman Lunas?"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Pilih rekening tujuan untuk menyimpan dana pelunasan ini."}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Masuk ke Rekening"}),e.jsxs("select",{required:!0,value:h,onChange:a=>E(a.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-sky-100 outline-none transition-all font-medium appearance-none text-sm",children:[d.length===0&&e.jsx("option",{value:"",children:"Belum ada rekening"}),d.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (Saldo: Rp",a.balance.toLocaleString("id-ID"),")"]},a.id))]})]}),e.jsxs("div",{className:"flex gap-2 pt-2 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>P(null),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",disabled:d.length===0,className:"flex-1 py-3 bg-sky-500 hover:bg-sky-600 disabled:bg-gray-400 text-white font-bold rounded-2xl shadow-lg shadow-sky-500/30 text-sm",children:"Simpan"})]})]})]})}),document.body),y&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>u(!1),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up border border-white/50 relative",onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-5 text-gray-800",children:t?"Edit Pinjaman":"Catat Pinjaman"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Nama Peminjam"}),e.jsx("input",{autoFocus:!0,className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-sky-100 outline-none font-medium text-sm",placeholder:"Contoh: Budi",value:f,onChange:a=>k(a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Jumlah (Rp)"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-sky-100 outline-none font-medium text-sm",value:M,onChange:a=>S(a.target.value),required:!0})]}),!t&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 ml-1",children:"Sumber Dana (Dipinjamkan dari)"}),e.jsxs("select",{required:!0,value:h,onChange:a=>E(a.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-sky-100 outline-none transition-all font-medium appearance-none text-sm",children:[d.length===0&&e.jsx("option",{value:"",children:"Belum ada rekening"}),d.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (Saldo: Rp",a.balance.toLocaleString("id-ID"),")"]},a.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Catatan (Opsional)"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-sky-100 outline-none font-medium text-sm",placeholder:"Utang makan siang",value:D,onChange:a=>j(a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Jatuh Tempo"}),e.jsx("input",{type:"date",className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-inner focus:ring-4 focus:ring-sky-100 outline-none font-medium text-gray-500 text-sm",value:A,onChange:a=>C(a.target.value),required:!0})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",disabled:!t&&d.length===0,className:"flex-1 py-3 bg-sky-500 hover:bg-sky-600 disabled:bg-gray-400 text-white font-bold rounded-2xl shadow-lg shadow-sky-500/30 text-sm",children:t?"Simpan Perubahan":"Simpan"})]})]})]})}),document.body)]})},le=["#06b6d4","#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#6366f1"],Fe=({transactions:x,savings:d,bills:w,plans:L,accounts:b,receivables:v=[],onNavigate:y,analysis:u,isAnalyzing:t,isAnalysisModalOpen:N,setIsAnalysisModalOpen:f})=>{var V;const[k,M]=c.useState("ALL"),[S,A]=c.useState(""),[C,D]=c.useState(""),j=b.reduce((l,s)=>l+s.balance,0),h=v.filter(l=>!l.isPaid),E=h.reduce((l,s)=>l+s.amount,0),g=c.useMemo(()=>{const l=new Date;let s=null,a=null;k==="THIS_MONTH"?(s=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],a=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0]):k==="CUSTOM"&&(S&&(s=S),C&&(a=C));const n=x.filter(H=>{const K=s?H.date>=s:!0,X=a?H.date<=a:!0;return K&&X}),W=n.filter(H=>H.type===B.INCOME).reduce((H,K)=>H+K.amount,0),q=n.filter(H=>H.type===B.EXPENSE).reduce((H,K)=>H+K.amount,0);return{transactions:n,income:W,expense:q}},[x,k,S,C]),P=c.useMemo(()=>{const s=g.transactions.filter(a=>a.type===B.EXPENSE).reduce((a,n)=>(a[n.category]=(a[n.category]||0)+n.amount,a),{});return Object.keys(s).map(a=>({name:a,value:s[a]})).sort((a,n)=>n.value-a.value)},[g]),z=c.useMemo(()=>{const l={};return g.transactions.forEach(s=>{const a=new Date(s.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"});l[s.date]||(l[s.date]={date:a,income:0,expense:0}),s.type===B.INCOME?l[s.date].income+=s.amount:l[s.date].expense+=s.amount}),Object.keys(l).sort().map(s=>l[s])},[g]),$=[...g.transactions].sort((l,s)=>new Date(s.date).getTime()-new Date(l.date).getTime()).slice(0,5),m=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),R=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",notation:"compact",compactDisplay:"short",minimumFractionDigits:0}).format(l),F=(l,s)=>{l==="start"?A(s):D(s),M("CUSTOM")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white px-6 py-5 rounded-3xl shadow-[0_5px_20px_-5px_rgba(0,0,0,0.05)] border border-white/50 relative overflow-hidden flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 tracking-tight",children:"Halo, User!"}),e.jsx("div",{className:"p-1.5 bg-cyan-50 rounded-lg text-cyan-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("p",{className:"text-gray-500 text-xs font-medium mt-1",children:"Dashboard keuangan pribadimu."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[e.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl w-full sm:w-auto self-start",children:["ALL","THIS_MONTH"].map(l=>e.jsx("button",{onClick:()=>{M(l),A(""),D("")},className:`flex-1 sm:flex-none px-3 py-1.5 text-[10px] font-bold rounded-lg transition-all duration-300 ${k===l?"bg-white text-cyan-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:l==="THIS_MONTH"?"Bulan Ini":"Semua"},l))}),e.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 p-1 rounded-xl border border-gray-200 w-full sm:w-auto",children:[e.jsx("input",{type:"date",value:S,onChange:l=>F("start",l.target.value),className:`w-full sm:w-28 bg-white border-0 text-gray-700 text-[10px] font-bold rounded-lg px-2 py-1.5 outline-none focus:ring-2 focus:ring-cyan-200 transition-all ${k==="CUSTOM"?"ring-2 ring-cyan-100":""}`}),e.jsx("span",{className:"text-gray-300 font-bold",children:"-"}),e.jsx("input",{type:"date",value:C,onChange:l=>F("end",l.target.value),className:`w-full sm:w-28 bg-white border-0 text-gray-700 text-[10px] font-bold rounded-lg px-2 py-1.5 outline-none focus:ring-2 focus:ring-cyan-200 transition-all ${k==="CUSTOM"?"ring-2 ring-cyan-100":""}`})]})]})]}),e.jsxs("div",{className:"relative rounded-[2rem] p-8 text-white overflow-hidden shadow-[0_20px_40px_-10px_rgba(6,182,212,0.4)] transition-transform hover:scale-[1.002] duration-500 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500 via-blue-600 to-indigo-700"}),e.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-teal-400/20 rounded-full blur-3xl -ml-20 -mb-20"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-white/20 backdrop-blur-md rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-cyan-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-cyan-100 font-semibold tracking-wider text-xs uppercase",children:"Total Aset Bersih"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-black tracking-tight drop-shadow-sm",children:m(j)}),e.jsxs("p",{className:"text-cyan-100/70 text-xs mt-2 font-medium",children:["Update Terakhir: ",new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-4 hover:bg-white/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 mr-2 shadow-[0_0_8px_rgba(52,211,153,0.8)]"}),e.jsx("p",{className:"text-xs text-emerald-100 font-medium",children:"Pemasukan"})]}),e.jsx("p",{className:"text-lg font-bold",children:R(g.income)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-4 hover:bg-white/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-400 mr-2 shadow-[0_0_8px_rgba(251,113,133,0.8)]"}),e.jsx("p",{className:"text-xs text-rose-100 font-medium",children:"Pengeluaran"})]}),e.jsx("p",{className:"text-lg font-bold",children:R(g.expense)})]}),e.jsxs("button",{onClick:()=>y("accounts"),className:"col-span-2 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-md rounded-2xl text-sm font-bold transition-all border border-white/10 flex items-center justify-center group-hover:tracking-wide duration-300",children:["Lihat Semua ",b.length," Rekening",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-lg shadow-gray-200/50 border border-gray-100",children:[e.jsx("h3",{className:"text-base font-bold text-gray-800 mb-1",children:"Komposisi Pengeluaran"}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Berdasarkan kategori di periode ini"}),e.jsx("div",{className:"h-64 w-full",children:P.length>0?e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Le,{children:[e.jsx(Me,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:P.map((l,s)=>e.jsx(Ae,{fill:le[s%le.length],stroke:"none"},`cell-${s}`))}),e.jsx(se,{formatter:l=>R(l),contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(De,{layout:"horizontal",verticalAlign:"bottom",align:"center",iconType:"circle",wrapperStyle:{fontSize:"10px",paddingTop:"10px"}})]})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300",children:[e.jsxs("svg",{className:"w-12 h-12 mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),e.jsx("span",{className:"text-xs",children:"Belum ada data pengeluaran"})]})})]}),e.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-[2rem] shadow-lg shadow-gray-200/50 border border-gray-100",children:[e.jsx("h3",{className:"text-base font-bold text-gray-800 mb-1",children:"Trend Arus Kas"}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Grafik pemasukan dan pengeluaran harian"}),e.jsx("div",{className:"h-64 w-full",children:z.length>0?e.jsx(ae,{width:"100%",height:"100%",children:e.jsxs(Ie,{data:z,margin:{top:10,right:10,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.2}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f43f5e",stopOpacity:.2}),e.jsx("stop",{offset:"95%",stopColor:"#f43f5e",stopOpacity:0})]})]}),e.jsx(Be,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),e.jsx(Ee,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"},dy:10}),e.jsx(Te,{hide:!0}),e.jsx(se,{formatter:l=>m(l),contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},labelStyle:{color:"#6b7280",fontSize:"12px",marginBottom:"4px"}}),e.jsx(ne,{type:"monotone",dataKey:"income",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)",name:"Pemasukan"}),e.jsx(ne,{type:"monotone",dataKey:"expense",stroke:"#f43f5e",strokeWidth:3,fillOpacity:1,fill:"url(#colorExpense)",name:"Pengeluaran"})]})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300",children:[e.jsx("svg",{className:"w-12 h-12 mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),e.jsx("span",{className:"text-xs",children:"Belum ada data transaksi"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-lg shadow-gray-200/50 border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2.5",children:[e.jsx("div",{className:"p-1.5 bg-sky-100 text-sky-600 rounded-lg shadow-inner",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Piutang"})]}),e.jsx("button",{onClick:()=>y("receivables"),className:"text-xs text-sky-600 font-bold hover:bg-sky-50 px-2.5 py-1 rounded-md transition-colors",children:"Lihat Semua"})]}),h.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-cyan-600 rounded-xl p-3 text-white shadow-md shadow-sky-500/20 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-medium text-sky-100 uppercase tracking-wide",children:"Dipinjam Orang"}),e.jsx("p",{className:"text-xl font-bold",children:m(E)})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-2xl font-black opacity-30",children:h.length})})]}),e.jsx("div",{className:"space-y-2",children:h.slice(0,2).map(l=>e.jsxs("div",{className:"flex justify-between items-center px-3 py-2 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:l.name}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:m(l.amount)})]},l.id))})]}):e.jsx("div",{className:"py-6 text-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Tidak ada yang berhutang."})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-lg shadow-gray-200/50 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg shadow-inner",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 01-2 2h2a2 2 0 012 2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Aktivitas"})]}),e.jsx("button",{onClick:()=>y("cash"),className:"text-xs text-blue-600 font-bold hover:bg-blue-50 px-2.5 py-1 rounded-md transition-colors",children:"Detail"})]}),$.length>0?e.jsx("div",{className:"space-y-3",children:$.map(l=>e.jsxs("div",{className:"group flex items-center justify-between p-2.5 hover:bg-gray-50 rounded-xl transition-colors cursor-default",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-3 shadow-sm ${l.type===B.INCOME?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:l.type===B.INCOME?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 13l-5 5m0 0l-5-5m5 5V6"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800 text-xs",children:l.description}),e.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:l.date})]})]}),e.jsxs("span",{className:`font-bold text-xs px-2 py-1 rounded-md ${l.type===B.INCOME?"bg-emerald-50 text-emerald-700":"text-gray-800"}`,children:[l.type===B.INCOME?"+":"-"," ",m(l.amount)]})]},l.id))}):e.jsx("div",{className:"py-6 text-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-400",children:"Belum ada transaksi di periode ini."})})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-lg shadow-gray-200/50 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2.5",children:[e.jsx("div",{className:"p-1.5 bg-emerald-100 text-emerald-600 rounded-lg shadow-inner",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Impian"})]}),e.jsx("button",{onClick:()=>y("savings"),className:"text-xs text-emerald-600 font-bold hover:bg-emerald-50 px-2.5 py-1 rounded-md transition-colors",children:"Atur"})]}),e.jsxs("div",{className:"space-y-4",children:[d.slice(0,3).map(l=>{const s=Math.min(100,Math.round(l.currentAmount/l.targetAmount*100));return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1.5 font-bold",children:[e.jsx("span",{className:"text-gray-700",children:l.name}),e.jsxs("span",{className:"text-emerald-600",children:[s,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 shadow-[inset_0_1px_2px_rgba(0,0,0,0.1)] overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-teal-500 h-2.5 rounded-full shadow-[0_1px_3px_rgba(16,185,129,0.5)] relative",style:{width:`${s}%`},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-white/30 to-transparent"})})})]},l.id)}),d.length===0&&e.jsx("p",{className:"text-xs text-gray-400 text-center italic py-3",children:"Belum ada target."})]})]})]})]}),N&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>{t||f(!1)},children:e.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[85vh] rounded-3xl shadow-2xl flex flex-col relative overflow-hidden border border-white/50 animate-slide-up",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 flex justify-between items-center shrink-0 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),e.jsxs("div",{className:"relative z-10 flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center text-xl mr-3 shadow-inner text-white",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 6 6.5 9.5 3 12l3.5 2.5L9 18l2.5-3.5L15 12l-3.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-xl font-bold tracking-tight",children:"Analisis Keuangan Cerdas"}),e.jsx("p",{className:"text-indigo-100 text-xs font-medium",children:"Powered by Vamel AI"})]})]}),!t&&e.jsx("button",{onClick:()=>f(!1),className:"text-white/70 hover:text-white bg-white/10 hover:bg-white/20 p-2 rounded-full transition relative z-10",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 custom-scrollbar",children:t?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-6",children:[e.jsxs("div",{className:"relative w-20 h-20",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-indigo-100 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-indigo-600 rounded-full border-t-transparent animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-indigo-600",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-800",children:"Sedang Menganalisis..."}),e.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto",children:"Vamel sedang mempelajari pola transaksi kamu untuk memberikan saran terbaik."})]})]}):u?e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:`p-5 rounded-2xl border flex items-start space-x-4 ${u.sentiment==="warning"?"bg-orange-50 border-orange-100":u.sentiment==="positive"?"bg-emerald-50 border-emerald-100":"bg-blue-50 border-blue-100"}`,children:[e.jsxs("div",{className:`flex-shrink-0 mt-1 ${u.sentiment==="warning"?"text-orange-500":u.sentiment==="positive"?"text-emerald-500":"text-blue-500"}`,children:[u.sentiment==="warning"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),u.sentiment==="positive"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.sentiment==="neutral"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold text-base mb-1 ${u.sentiment==="warning"?"text-orange-800":u.sentiment==="positive"?"text-emerald-800":"text-blue-800"}`,children:"Ringkasan Eksekutif"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:u.summary})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center text-sm uppercase tracking-wider",children:[e.jsx("span",{className:"w-1.5 h-4 bg-indigo-500 rounded-full mr-2"}),"Detail Analisis"]}),e.jsx("div",{className:"text-sm text-gray-600 space-y-2 leading-relaxed whitespace-pre-line",children:u.details||"Tidak ada detail tambahan."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center text-sm uppercase tracking-wider",children:[e.jsx("span",{className:"w-1.5 h-4 bg-rose-500 rounded-full mr-2"}),"Langkah Konkret"]}),e.jsx("ul",{className:"space-y-3",children:((V=u.actionItems)==null?void 0:V.map((l,s)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:s+1}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:l})]},s)))||e.jsx("li",{className:"text-sm text-gray-400 italic",children:"Tidak ada langkah khusus."})})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center text-sm uppercase tracking-wider",children:[e.jsx("span",{className:"w-1.5 h-4 bg-emerald-500 rounded-full mr-2"}),"Tips Hemat"]}),e.jsxs("div",{className:"flex items-start bg-emerald-50 p-3 rounded-xl",children:[e.jsx("span",{className:"text-xl mr-3 text-emerald-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("p",{className:"text-sm text-emerald-800 font-medium italic",children:['"',u.savingTips||u.advice,'"']})]})]})]})]}):e.jsx("div",{className:"text-center py-12 text-gray-400",children:e.jsx("p",{children:"Data tidak tersedia."})})}),e.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:e.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2.5 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold rounded-xl transition-colors text-sm",children:"Tutup"})})]})}),document.body)]})},We=({transactions:x,onDelete:d,onEdit:w,accounts:L})=>{const b=[...x].sort((t,N)=>new Date(N.date).getTime()-new Date(t.date).getTime()),v=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),y=t=>new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),u=t=>{const N=L.find(f=>f.id===t);return N?N.name:"Unknown"};return e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:e.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Riwayat Transaksi"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-5 py-3",children:"Tanggal"}),e.jsx("th",{className:"px-5 py-3",children:"Deskripsi"}),e.jsx("th",{className:"px-5 py-3",children:"Rekening"}),e.jsx("th",{className:"px-5 py-3",children:"Kategori"}),e.jsx("th",{className:"px-5 py-3 text-right",children:"Jumlah"}),e.jsx("th",{className:"px-5 py-3 text-center",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400 text-sm",children:"Belum ada transaksi yang tercatat."})}):b.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-5 py-3 text-xs text-gray-600 whitespace-nowrap",children:y(t.date)}),e.jsx("td",{className:"px-5 py-3 text-xs font-semibold text-gray-800",children:t.description}),e.jsx("td",{className:"px-5 py-3 text-xs text-gray-600",children:e.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded text-[10px] font-bold border border-indigo-100",children:u(t.bankAccountId)})}),e.jsx("td",{className:"px-5 py-3 text-xs text-gray-500",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-800",children:t.category})}),e.jsxs("td",{className:`px-5 py-3 text-xs font-bold text-right ${t.type===B.INCOME?"text-emerald-600":"text-rose-600"}`,children:[t.type===B.INCOME?"+":"-"," ",v(t.amount)]}),e.jsx("td",{className:"px-5 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx("button",{onClick:()=>w(t),className:"text-gray-400 hover:text-blue-500 transition-colors p-1",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx("button",{onClick:()=>d(t.id),className:"text-gray-400 hover:text-rose-500 transition-colors p-1",title:"Hapus",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},t.id))})]})})]})},He=({transactions:x,onDelete:d,onEdit:w,analysis:L,onAnalyze:b,isAnalyzing:v,onClearAnalysis:y,accounts:u})=>{const[t,N]=c.useState(""),[f,k]=c.useState(""),M=c.useMemo(()=>x.filter(j=>{const h=t?j.date>=t:!0,E=f?j.date<=f:!0;return h&&E}),[x,t,f]),S=M.filter(j=>j.type===B.INCOME).reduce((j,h)=>j+h.amount,0),A=M.filter(j=>j.type===B.EXPENSE).reduce((j,h)=>j+h.amount,0),C=S-A,D=j=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(j);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-sm border border-gray-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Periode Laporan"}),e.jsx("p",{className:"text-xs text-gray-500",children:t||f?"Menampilkan transaksi periode terpilih.":"Menampilkan semua riwayat transaksi."})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-1.5 rounded-2xl border border-gray-200",children:[e.jsx("input",{type:"date",value:t,onChange:j=>N(j.target.value),className:"bg-white border border-gray-200 text-gray-700 text-xs font-bold rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-200 transition-all placeholder-gray-400",placeholder:"Dari"}),e.jsx("span",{className:"text-gray-400 font-bold",children:"-"}),e.jsx("input",{type:"date",value:f,onChange:j=>k(j.target.value),className:"bg-white border border-gray-200 text-gray-700 text-xs font-bold rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-200 transition-all placeholder-gray-400",placeholder:"Sampai"}),(t||f)&&e.jsx("button",{onClick:()=>{N(""),k("")},className:"ml-1 p-2 bg-gray-200 hover:bg-gray-300 rounded-xl text-gray-600 transition",title:"Reset Filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 rounded-3xl p-1 shadow-xl shadow-cyan-200",children:e.jsx("div",{className:"bg-white rounded-[1.3rem] p-4",children:L?e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h4",{className:"font-bold text-lg text-cyan-800 flex items-center",children:[e.jsx("span",{className:"mr-2 text-amber-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),"Kata Vamel:"]}),e.jsx("button",{onClick:y,className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200 transition",children:""})]}),e.jsx("p",{className:"text-gray-800 mb-3 font-medium text-sm leading-relaxed",children:L.summary}),e.jsxs("div",{className:"bg-yellow-50 p-3 rounded-xl border border-yellow-100 text-gray-700 italic font-medium shadow-sm text-sm",children:['"',L.advice,'"']})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[e.jsx("span",{className:"text-indigo-600 mr-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),"Tanya Vamel?"]}),e.jsx("p",{className:"text-gray-500 text-xs font-medium mt-0.5",children:"Analisis arus kasmu dengan kecerdasan buatan."})]}),e.jsx("button",{onClick:b,disabled:v,className:"px-4 py-2 bg-gray-900 text-white font-bold rounded-xl shadow-lg hover:scale-105 transition-transform flex items-center disabled:opacity-50 disabled:scale-100 text-sm",children:v?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses"]}):e.jsxs("span",{className:"flex items-center",children:["Analisis AI",e.jsx("svg",{className:"w-4 h-4 ml-2 text-indigo-300",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 6 6.5 9.5 3 12l3.5 2.5L9 18l2.5-3.5L15 12l-3.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"})})]})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-emerald-50 rounded-2xl p-4 border border-emerald-100 flex items-center space-x-4 shadow-sm",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center text-emerald-600 shadow-inner",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:"Total Masuk"}),e.jsx("p",{className:"text-lg font-black text-gray-800",children:D(S)})]})]}),e.jsxs("div",{className:"bg-rose-50 rounded-2xl p-4 border border-rose-100 flex items-center space-x-4 shadow-sm",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-rose-100 flex items-center justify-center text-rose-600 shadow-inner",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 13l-5 5m0 0l-5-5m5 5V6"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-rose-600 uppercase tracking-wider",children:"Total Keluar"}),e.jsx("p",{className:"text-lg font-black text-gray-800",children:D(A)})]})]}),e.jsxs("div",{className:`rounded-2xl p-4 border flex items-center space-x-4 shadow-sm ${C>=0?"bg-cyan-50 border-cyan-100":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-inner ${C>=0?"bg-cyan-100 text-cyan-600":"bg-gray-200 text-gray-500"}`,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${C>=0?"text-cyan-600":"text-gray-500"}`,children:C>=0?"Surplus Kas":"Defisit Kas"}),e.jsx("p",{className:"text-lg font-black text-gray-800",children:D(C)})]})]})]}),e.jsx(We,{transactions:M,onDelete:d,onEdit:w,accounts:u})]})},Z=[{label:"Biru BCA",value:"from-blue-600 to-blue-800"},{label:"Kuning Mandiri",value:"from-yellow-400 to-yellow-600"},{label:"Oranye BNI",value:"from-orange-500 to-red-600"},{label:"Hijau",value:"from-emerald-500 to-teal-700"},{label:"Ungu",value:"from-violet-600 to-purple-800"},{label:"Hitam",value:"from-gray-700 to-gray-900"},{label:"Biru Langit",value:"from-sky-400 to-blue-500"}],Ve=({accounts:x,onAdd:d,onEdit:w,onDelete:L})=>{const[b,v]=c.useState(!1),[y,u]=c.useState(null),[t,N]=c.useState(""),[f,k]=c.useState("Bank"),[M,S]=c.useState(""),[A,C]=c.useState(""),[D,j]=c.useState(Z[0].value),h=m=>{u(m),N(m.name),k(m.type),S(m.balance.toString()),C(m.accountNumber||""),j(m.color),v(!0)},E=()=>{u(null),P(),v(!0)},g=m=>{m.preventDefault(),y?w({...y,name:t,type:f,balance:parseFloat(M)||0,accountNumber:A,color:D}):d({name:t,type:f,balance:parseFloat(M)||0,accountNumber:A,color:D}),v(!1),P()},P=()=>{N(""),k("Bank"),S(""),C(""),j(Z[0].value),u(null)},z=m=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(m),$=x.reduce((m,R)=>m+R.balance,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative rounded-[2rem] p-8 text-white overflow-hidden shadow-[0_20px_40px_-10px_rgba(6,182,212,0.4)] transition-transform hover:scale-[1.002] duration-500 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500 via-blue-600 to-indigo-700"}),e.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-teal-400/20 rounded-full blur-3xl -ml-20 -mb-20"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-white/20 backdrop-blur-md rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-cyan-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-cyan-100 font-semibold tracking-wider text-xs uppercase",children:"Total Aset Bersih"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-black tracking-tight drop-shadow-sm",children:z($)}),e.jsxs("p",{className:"text-cyan-100/70 text-xs mt-2 font-medium",children:["Tersebar di ",x.length," akun dompet & bank"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"px-4 py-2 bg-white/10 backdrop-blur-md rounded-xl border border-white/10 text-xs font-bold text-white/90",children:["Bank: ",z(x.filter(m=>m.type==="Bank").reduce((m,R)=>m+R.balance,0))]}),e.jsxs("div",{className:"px-4 py-2 bg-white/10 backdrop-blur-md rounded-xl border border-white/10 text-xs font-bold text-white/90",children:["E-Wallet: ",z(x.filter(m=>m.type==="E-Wallet").reduce((m,R)=>m+R.balance,0))]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 tracking-tight",children:"Dompet Saya"}),e.jsx("p",{className:"text-gray-500 text-sm mt-0.5",children:"Kelola semua sumber danamu di sini."})]}),e.jsx("button",{onClick:E,className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-bold rounded-xl shadow-md shadow-cyan-500/30 hover:shadow-cyan-500/50 hover:-translate-y-0.5 transition-all active:scale-95 border-t border-white/20 text-sm",children:"+ Rekening Baru"})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map(m=>{const R=m.color.includes("from-")?`bg-gradient-to-br ${m.color}`:m.color;return e.jsxs("div",{className:`relative rounded-2xl p-5 shadow-[0_15px_30px_-10px_rgba(0,0,0,0.3)] text-white overflow-hidden group transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_20px_40px_-10px_rgba(0,0,0,0.4)] ${R} cursor-pointer`,onClick:()=>h(m),children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-[1px]"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/20 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-white/20 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between min-h-[150px]",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"bg-black/20 backdrop-blur-md p-1.5 rounded-lg border border-white/10 shadow-inner",children:[m.type==="Cash"&&e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),m.type==="Bank"&&e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),m.type==="E-Wallet"&&e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})]}),e.jsx("button",{onClick:F=>{F.stopPropagation(),L(m.id)},className:"text-white/50 hover:text-white transition-colors bg-black/10 hover:bg-red-500/80 p-1.5 rounded-md",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-semibold tracking-wider opacity-80 uppercase mb-0.5",children:m.type}),e.jsx("div",{className:"flex items-baseline space-x-2",children:e.jsx("h4",{className:"text-lg font-bold tracking-tight text-shadow-sm leading-tight",children:m.name})}),e.jsx("p",{className:"font-mono opacity-70 text-xs mt-0.5 tracking-widest",children:m.accountNumber||" "})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase tracking-wider opacity-70",children:"Saldo Aktif"}),e.jsx("p",{className:"text-lg font-bold",children:z(m.balance)})]}),e.jsx("div",{className:"opacity-50",children:e.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M2 10C2 10 6.875 10 12 10C17.125 10 22 10 22 10M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]})]},m.id)})}),b&&U.createPortal(e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4",onClick:()=>v(!1),children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl animate-slide-up border border-white/50 relative",onClick:m=>m.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6 sm:hidden"}),e.jsx("h3",{className:"text-xl font-bold mb-5 text-gray-800",children:y?"Edit Dompet":"Tambah Dompet"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Nama Akun"}),e.jsx("input",{autoFocus:!0,className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-medium text-sm",placeholder:"Contoh: BCA Tabungan",value:t,onChange:m=>N(m.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Tipe"}),e.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl shadow-inner",children:["Bank","E-Wallet","Cash"].map(m=>e.jsx("button",{type:"button",onClick:()=>k(m),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-all duration-300 ${f===m?"bg-white text-cyan-700 shadow-md transform scale-100":"text-gray-500 hover:text-gray-700"}`,children:m},m))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Saldo Awal"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-3 text-gray-400 font-bold text-sm",children:"Rp"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border border-gray-200 p-3 pl-10 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-bold text-base",value:M,onChange:m=>S(m.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"No. Rekening (Opsional)"}),e.jsx("input",{className:"w-full bg-gray-50 border border-gray-200 p-3 rounded-xl shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] focus:ring-4 focus:ring-cyan-100 focus:border-cyan-500 outline-none transition-all font-mono text-sm",value:A,onChange:m=>C(m.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 ml-1",children:"Warna Kartu"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(m=>e.jsx("button",{type:"button",onClick:()=>j(m.value),className:`w-8 h-8 rounded-full bg-gradient-to-br ${m.value} shadow-md transition-all duration-300 ${D===m.value?"ring-2 ring-offset-2 ring-cyan-200 scale-110 shadow-lg":"hover:scale-105 opacity-80 hover:opacity-100"}`,title:m.label},m.value))})]}),e.jsxs("div",{className:"flex gap-2 pt-2 pb-2 sm:pb-0",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-2xl transition-colors text-sm",children:"Batal"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold rounded-2xl shadow-lg shadow-cyan-500/30 transform active:scale-95 transition-all text-sm",children:y?"Simpan Perubahan":"Simpan"})]})]})]})}),document.body)]})},Ue=({activeTab:x,setActiveTab:d,isOpen:w,setIsOpen:L})=>{const[b,v]=c.useState(null);c.useEffect(()=>{fetch("/logo.json").then(t=>t.json()).then(t=>v(t)).catch(t=>console.error("Failed to load logo animation",t))},[]);const y=t=>{d(t),L(!1)},u=[{id:"home",label:"Beranda",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"accounts",label:"Rekening",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})},{id:"cash",label:"Arus Kas",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"savings",label:"Tabungan",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})},{id:"bills",label:"Tagihan",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"receivables",label:"Piutang",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{id:"plans",label:"Rencana",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 bg-gray-900/60 backdrop-blur-sm z-40 transition-opacity duration-300 md:hidden ${w?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>L(!1)}),e.jsxs("aside",{className:`fixed top-0 left-0 z-50 h-full w-72 bg-white border-r border-white/50 shadow-2xl transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${w?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center h-24 px-6 border-b border-gray-50",children:[e.jsx("div",{className:"mr-2 flex items-center justify-center w-20 h-20",children:b?e.jsx(ke,{loop:!0,play:!0,animationData:b,style:{width:80,height:80}}):e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full animate-pulse"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-blue-600 tracking-tight leading-none",children:"Vamel"}),e.jsx("p",{className:"text-xs text-gray-400 font-bold tracking-[0.2em] uppercase mt-1",children:"Finance"})]})]}),e.jsx("nav",{className:"px-4 space-y-3 mt-8 overflow-y-auto max-h-[calc(100vh-160px)] no-scrollbar pb-4",children:u.map(t=>e.jsxs("button",{onClick:()=>y(t.id),className:`w-full group flex items-center px-5 py-3.5 text-sm font-bold rounded-2xl transition-all duration-300 relative overflow-hidden ${x===t.id?"bg-gradient-to-r from-cyan-400 to-blue-600 text-white shadow-lg shadow-cyan-500/20 translate-x-1":"text-gray-500 hover:bg-gray-50 hover:text-cyan-600 hover:shadow-md hover:shadow-gray-200/50 hover:translate-x-1"}`,children:[x===t.id&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] animate-[shimmer_2s_infinite]"}),e.jsx("span",{className:`mr-4 transition-transform duration-300 group-hover:scale-110 ${x===t.id?"text-white":"text-gray-400 group-hover:text-cyan-500"}`,children:t.icon}),e.jsx("span",{className:"relative z-10 tracking-wide",children:t.label}),x===t.id&&e.jsx("div",{className:"absolute right-4 w-2 h-2 bg-white rounded-full shadow-md animate-pulse"})]},t.id))}),e.jsx("div",{className:"absolute bottom-6 w-full px-4",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-2xl border border-white shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)]",children:e.jsxs("div",{className:"flex items-center space-x-3.5",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-100 to-white flex items-center justify-center text-cyan-700 font-bold shadow-sm border border-cyan-100 text-base",children:"U"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800",children:"User"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Premium Plan"})]})]})})})]})]})},qe=new Pe({apiKey:"PLACEHOLDER_API_KEY"}),Ke=async x=>{if(x.length===0)return{summary:"Halo! Saya Vamel. Belum ada data transaksi untuk dianalisis.",advice:"Yuk mulai catat pemasukan dan pengeluaran harianmu.",sentiment:"neutral",details:"Data transaksi kosong. Saya membutuhkan data minimal 1 transaksi untuk memberikan analisis yang akurat.",actionItems:["Catat transaksi pertamamu","Buat rekening/dompet baru"],savingTips:"Mulailah dengan mencatat hal kecil seperti uang parkir atau jajan."};const w=`
    Bertindaklah sebagai "Vamel", asisten keuangan pribadi yang cerdas, teliti, dan suportif.
    Analisis data transaksi arus kas pribadi user berikut ini untuk memberikan wawasan mendalam.
    
    Data Transaksi (50 Terakhir):
    ${x.slice(0,50).map(L=>`- ${L.date}: ${L.description} (${L.type===B.INCOME?"+":"-"} Rp${L.amount}) [${L.category}]`).join(`
`)}

    Tugas:
    1. Identifikasi pola pengeluaran yang boros atau tidak perlu.
    2. Berikan saran konkret langkah demi langkah.
    3. Tentukan sentimen kesehatan keuangan.

    Format jawaban harus JSON valid tanpa markdown code block, struktur:
    {
      "summary": "Ringkasan eksekutif kondisi keuangan (maks 2 kalimat).",
      "details": "Analisis mendalam (2-3 paragraf pendek). Jelaskan kemana uang paling banyak lari, apakah pemasukan cukup menutup pengeluaran, dan anomali yang ditemukan.",
      "advice": "Satu nasihat utama yang paling krusial saat ini.",
      "actionItems": [
        "Langkah konkret 1 (misal: Kurangi jajan kopi)",
        "Langkah konkret 2",
        "Langkah konkret 3"
      ],
      "savingTips": "Tips praktis menabung atau berhemat yang relevan dengan data transaksi.",
      "sentiment": "positive" | "neutral" | "warning"
    }
    
    Gunakan Bahasa Indonesia yang luwes, tidak kaku, namun tetap profesional layaknya konsultan keuangan pribadi.
  `;try{const b=(await qe.models.generateContent({model:"gemini-3-flash-preview",contents:w,config:{responseMimeType:"application/json"}})).text||"{}";return JSON.parse(b)}catch(L){return console.error("Gemini Analysis Error:",L),{summary:"Maaf, Vamel sedang pusing menganalisis data.",advice:"Coba cek koneksi internetmu ya.",sentiment:"neutral",details:"Terjadi kesalahan saat menghubungi server AI.",actionItems:["Periksa koneksi internet","Coba lagi nanti"],savingTips:"-"}}},Q="https://vamel-finance.office-alincorporation.workers.dev",T={get:async x=>{try{const d=await fetch(`${Q}/?key=${x}`,{method:"GET",mode:"cors"});if(!d.ok){if(d.status===404)return null;throw new Error(`API Error: ${d.status} ${d.statusText}`)}return await d.json()}catch{return console.warn(`[API] Could not fetch '${x}' from cloud. Using local/fallback data.`),null}},save:async(x,d)=>{try{const w=await fetch(`${Q}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:x,value:d}),mode:"cors"});if(!w.ok)throw new Error(`Failed to save: ${w.status} ${w.statusText}`);return!0}catch{return console.warn(`[API] Offline mode: Could not save '${x}' to cloud. Data is saved locally in memory.`),!1}},delete:async x=>{try{const d=await fetch(`${Q}/?key=${x}`,{method:"DELETE",mode:"cors"});if(!d.ok)throw new Error(`Failed to delete: ${d.status} ${d.statusText}`);return!0}catch{return console.warn(`[API] Could not delete '${x}' from cloud.`),!1}}},I={TRANSACTIONS:"aruskas",ACCOUNTS:"rekening",SAVINGS:"tabungan",BILLS:"tagihan",RECEIVABLES:"piutang",PLANS:"rencana"};function Ye(){const[x,d]=c.useState("home"),[w,L]=c.useState(!1),[b,v]=c.useState(!0),[y,u]=c.useState([]),[t,N]=c.useState([]),[f,k]=c.useState([]),[M,S]=c.useState([]),[A,C]=c.useState([]),[D,j]=c.useState([]),[h,E]=c.useState(!1),[g,P]=c.useState(null),[z,$]=c.useState(null),[m,R]=c.useState(!1),[F,V]=c.useState(!1);c.useEffect(()=>{(async()=>{v(!0);const o=async(i,_,p)=>{try{const O=await T.get(i);if(O){_(O);return}const Y=await fetch(p);if(Y.ok){const G=await Y.json();_(G),T.save(i,G)}}catch(O){console.error(`Gagal seeding data untuk ${i}`,O),_([])}};await Promise.all([o(I.ACCOUNTS,N,"/rekening.json"),o(I.TRANSACTIONS,u,"/aruskas.json"),o(I.SAVINGS,k,"/tabungan.json"),o(I.BILLS,S,"/tagihan.json"),o(I.RECEIVABLES,C,"/piutang.json"),o(I.PLANS,j,"/rencana.json")]),v(!1)})()},[]);const l=async(r,o,i,_,p,O=new Date().toISOString().split("T")[0])=>{const G=[{id:crypto.randomUUID(),date:O,description:r,amount:o,type:i,category:_,bankAccountId:p},...y];u(G);const te=t.map(J=>{if(J.id===p){const Ne=i===B.INCOME?J.balance+o:J.balance-o;return{...J,balance:Ne}}return J});N(te),$(null),await Promise.all([T.save(I.TRANSACTIONS,G),T.save(I.ACCOUNTS,te)])},s=r=>{l(r.description,r.amount,r.type,r.category,r.bankAccountId,r.date)},a=async r=>{const o=y.find(p=>p.id===r.id);if(!o)return;let i=[...t];o.bankAccountId&&(i=i.map(p=>{if(p.id===o.bankAccountId){const O=o.type===B.INCOME?p.balance-o.amount:p.balance+o.amount;return{...p,balance:O}}return p})),r.bankAccountId&&(i=i.map(p=>{if(p.id===r.bankAccountId){const O=r.type===B.INCOME?p.balance+r.amount:p.balance-r.amount;return{...p,balance:O}}return p}));const _=y.map(p=>p.id===r.id?r:p);u(_),N(i),$(null),await Promise.all([T.save(I.TRANSACTIONS,_),T.save(I.ACCOUNTS,i)])},n=async r=>{const o=y.find(i=>i.id===r);if(o&&confirm("Hapus transaksi ini? Saldo rekening akan dikembalikan.")){const i=y.filter(p=>p.id!==r);u(i);let _=t;o.bankAccountId&&(_=t.map(p=>{if(p.id===o.bankAccountId){const O=o.type===B.INCOME?p.balance-o.amount:p.balance+o.amount;return{...p,balance:O}}return p}),N(_)),$(null),await Promise.all([T.save(I.TRANSACTIONS,i),T.save(I.ACCOUNTS,_)])}},W=async r=>{const o=[...t,{...r,id:crypto.randomUUID()}];N(o),await T.save(I.ACCOUNTS,o)},q=async r=>{const o=t.map(i=>i.id===r.id?r:i);N(o),await T.save(I.ACCOUNTS,o)},H=async r=>{if(y.some(i=>i.bankAccountId===r)){alert("Tidak bisa menghapus rekening ini karena masih ada riwayat transaksi terkait.");return}if(confirm("Hapus rekening ini?")){const i=t.filter(_=>_.id!==r);N(i),await T.save(I.ACCOUNTS,i)}},K=async(r,o)=>{const i=[...f,{...r,id:crypto.randomUUID()}];k(i),await T.save(I.SAVINGS,i),r.currentAmount>0&&o&&l(`Setoran Awal Tabungan: ${r.name}`,r.currentAmount,B.EXPENSE,"Tabungan",o)},X=async r=>{const o=f.map(i=>i.id===r.id?r:i);k(o),await T.save(I.SAVINGS,o)},ie=async(r,o,i)=>{const _=f.find(O=>O.id===r);if(!_)return;const p=f.map(O=>O.id===r?{...O,currentAmount:O.currentAmount+o}:O);k(p),await T.save(I.SAVINGS,p),l(`Setor Tabungan: ${_.name}`,o,B.EXPENSE,"Tabungan",i)},de=async r=>{if(confirm("Hapus target ini?")){const o=f.filter(i=>i.id!==r);k(o),await T.save(I.SAVINGS,o)}},ce=async r=>{const o=[...M,{...r,id:crypto.randomUUID(),isPaid:!1}];S(o),await T.save(I.BILLS,o)},me=async r=>{const o=M.map(i=>i.id===r.id?r:i);S(o),await T.save(I.BILLS,o)},xe=async(r,o)=>{const i=M.find(p=>p.id===r);if(!i)return;let _=M.map(p=>p.id===r?{...p,isPaid:!0}:p);if(i.frequency!=="ONCE"){const p=new Date(i.dueDate);i.frequency==="WEEKLY"?p.setDate(p.getDate()+7):i.frequency==="MONTHLY"?p.setMonth(p.getMonth()+1):i.frequency==="YEARLY"&&p.setFullYear(p.getFullYear()+1);const O=p.toISOString().split("T")[0],Y={...i,id:crypto.randomUUID(),dueDate:O,isPaid:!1};_=[..._,Y],alert(`Tagihan "${i.name}" berhasil dibayar. Tagihan berikutnya untuk tanggal ${O} telah dibuat otomatis.`)}S(_),await T.save(I.BILLS,_),l(`Bayar Tagihan: ${i.name}`,i.amount,B.EXPENSE,"Tagihan",o)},ue=async r=>{const o=M.filter(i=>i.id!==r);S(o),await T.save(I.BILLS,o)},he=async(r,o)=>{const i=[...A,{...r,id:crypto.randomUUID(),isPaid:!1}];C(i),await T.save(I.RECEIVABLES,i),l(`Piutang: Dipinjam ${r.name}`,r.amount,B.EXPENSE,"Piutang",o)},ge=async r=>{const o=A.map(i=>i.id===r.id?r:i);C(o),await T.save(I.RECEIVABLES,o)},pe=async(r,o)=>{const i=A.find(p=>p.id===r);if(!i)return;const _=A.map(p=>p.id===r?{...p,isPaid:!0}:p);C(_),await T.save(I.RECEIVABLES,_),l(`Piutang: Dibayar ${i.name}`,i.amount,B.INCOME,"Piutang",o)},be=async r=>{const o=A.filter(i=>i.id!==r);C(o),await T.save(I.RECEIVABLES,o)},fe=async r=>{const o=[...D,{...r,id:crypto.randomUUID(),isCompleted:!1}];j(o),await T.save(I.PLANS,o)},ye=async r=>{const o=D.map(i=>i.id===r.id?r:i);j(o),await T.save(I.PLANS,o)},je=async r=>{const o=D.map(i=>i.id===r?{...i,isCompleted:!i.isCompleted}:i);j(o),await T.save(I.PLANS,o)},ve=async r=>{const o=D.filter(i=>i.id!==r);j(o),await T.save(I.PLANS,o)},ee=async()=>{R(!0),x==="home"&&V(!0);const r=await Ke(y);$(r),R(!1)},we=()=>{switch(x){case"home":return"Beranda";case"cash":return"Arus Kas";case"accounts":return"Rekening Bank";case"savings":return"Tabungan Target";case"bills":return"Tagihan Rutin";case"receivables":return"Buku Piutang";case"plans":return"Rencana Belanja";default:return"Vamel"}};return b?e.jsxs("div",{className:"flex h-screen items-center justify-center bg-gray-50 flex-col",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-cyan-200 border-t-cyan-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500 font-bold animate-pulse",children:"Menyiapkan Vamel..."})]}):e.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[e.jsx(Ue,{activeTab:x,setActiveTab:d,isOpen:w,setIsOpen:L}),e.jsxs("div",{className:"flex-1 flex flex-col h-full relative overflow-hidden",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 h-16 flex-none z-30",children:e.jsxs("div",{className:"h-full px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>L(!0),className:"md:hidden mr-4 p-2 rounded-md text-gray-500 hover:bg-gray-100 hover:text-gray-700 focus:outline-none",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight",children:we()}),e.jsx("span",{className:"text-[10px] font-semibold text-cyan-500 uppercase tracking-wider",children:"Vamel Finance"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x==="home"&&e.jsxs("button",{onClick:ee,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-bold rounded-xl shadow-lg shadow-indigo-500/20 text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 transition-all hover:scale-105 active:scale-95",children:[e.jsx("span",{className:"mr-1.5",children:e.jsx("svg",{className:"w-5 h-5 text-indigo-100",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 6 6.5 9.5 3 12l3.5 2.5L9 18l2.5-3.5L15 12l-3.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"})})}),e.jsx("span",{className:"hidden sm:inline",children:"Analisa AI"}),e.jsx("span",{className:"sm:hidden",children:"AI"})]}),x==="cash"&&e.jsx("button",{onClick:()=>{P(null),E(!0)},className:"hidden md:inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-cyan-500 hover:bg-cyan-600 transition",children:"+ Transaksi"})]})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 scroll-smooth pb-24",children:e.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:e.jsxs("div",{className:"animate-fade-in",children:[x==="home"&&e.jsx(Fe,{transactions:y,savings:f,bills:M,plans:D,accounts:t,receivables:A,onNavigate:d,analysis:z,isAnalyzing:m,isAnalysisModalOpen:F,setIsAnalysisModalOpen:V}),x==="accounts"&&e.jsx(Ve,{accounts:t,onAdd:W,onEdit:q,onDelete:H}),x==="cash"&&e.jsx(He,{transactions:y,onDelete:n,onEdit:r=>{P(r),E(!0)},analysis:z,onAnalyze:ee,isAnalyzing:m,onClearAnalysis:()=>$(null),accounts:t}),x==="savings"&&e.jsx(Oe,{savings:f,accounts:t,onAdd:K,onEdit:X,onAddMoney:ie,onDelete:de}),x==="bills"&&e.jsx(ze,{bills:M,accounts:t,onAdd:ce,onEdit:me,onPay:xe,onDelete:ue}),x==="receivables"&&e.jsx($e,{receivables:A,accounts:t,onAdd:he,onEdit:ge,onPaidBack:pe,onDelete:be}),x==="plans"&&e.jsx(Re,{plans:D,onAdd:fe,onEdit:ye,onToggle:je,onDelete:ve})]})})}),x==="cash"&&e.jsx("button",{onClick:()=>{P(null),E(!0)},className:"md:hidden absolute bottom-6 right-6 w-14 h-14 bg-cyan-500 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-cyan-600 transition-transform active:scale-95 z-40",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),h&&e.jsx(_e,{onAdd:s,onEdit:a,initialData:g,onClose:()=>{E(!1),P(null)},accounts:t})]})]})}const oe=document.getElementById("root");if(!oe)throw new Error("Could not find root element to mount to");const Ge=Ce.createRoot(oe);Ge.render(e.jsx(Se.StrictMode,{children:e.jsx(Ye,{})}));
